(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"42UT":function(n,t,e){"use strict";e.r(t),e.d(t,"HomePageModule",function(){return O});var o=e("TEn/"),i=e("ofXK"),c=e("fXoL");let r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({imports:[[i.b,o.j]]}),n})();var s=e("3Pt+"),a=e("tyNb"),g=function(n){return n[n.loading=0]="loading",n[n.loaded=1]="loaded",n[n.error=2]="error",n}({}),l=function(n){return n[n.playing=0]="playing",n[n.correctAnswer=1]="correctAnswer",n[n.wrongAnswer=2]="wrongAnswer",n}({}),b=e("R0Ic"),d=e("0IA5");let u=(()=>{class n{constructor(){this.songSelected=new c.o}ngOnInit(){}selectSong(){this.songSelected.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Db({type:n,selectors:[["song"]],inputs:{song:"song"},outputs:{songSelected:"songSelected"},decls:5,vars:2,consts:[[1,"content","ion-activatable",3,"click"],[3,"src"]],template:function(n,t){1&n&&(c.Mb(0,"div",0),c.Ub("click",function(){return t.selectSong()}),c.Kb(1,"img",1),c.Mb(2,"span"),c.fc(3),c.Lb(),c.Kb(4,"ion-ripple-effect"),c.Lb()),2&n&&(c.zb(1),c.Zb("src",t.song.track.album.images[0].url,c.cc),c.zb(2),c.gc(t.song.track.name))},directives:[o.g],styles:[".content[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:flex;border-radius:10px;padding:10px;flex-direction:column;cursor:pointer;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;width:150px;height:150px;margin-bottom:20px}.content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;text-align:center;max-width:300px}@media (max-width:600px){img[_ngcontent-%COMP%]{width:30px;height:30px;margin-bottom:10px}span[_ngcontent-%COMP%]{font-size:16px}}"]}),n})(),p=(()=>{class n{constructor(){this.title="Error",this.accept="Reintentar",this.clickEvent=new c.o}ngOnInit(){}buttonClicked(){this.clickEvent.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Db({type:n,selectors:[["error"]],inputs:{title:"title",accept:"accept"},outputs:{clickEvent:"clickEvent"},decls:7,vars:2,consts:[[1,"message"],[1,"icon-container"],["name","close"],["shape","round","color","danger",3,"click"]],template:function(n,t){1&n&&(c.Mb(0,"div",0),c.Mb(1,"div",1),c.Kb(2,"ion-icon",2),c.Lb(),c.Mb(3,"h2"),c.fc(4),c.Lb(),c.Mb(5,"ion-button",3),c.Ub("click",function(){return t.buttonClicked()}),c.fc(6),c.Lb(),c.Lb()),2&n&&(c.zb(4),c.gc(t.title),c.zb(2),c.hc(" ",t.accept," "))},directives:[o.f,o.b],styles:[".icon-container[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{color:#505050;text-align:center;font-weight:400;font-size:20px;color:var(--ion-text-color)!important;margin:20px 0}ion-icon[_ngcontent-%COMP%]{transform:scale(2);padding:5px;border-radius:100%;border:1px solid var(--ion-color-danger);margin-bottom:20px}ion-button[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;letter-spacing:2px}"]}),n})();function f(n,t){1&n&&(c.Mb(0,"h1"),c.fc(1,"\xbfCu\xe1l es m\xe1s popular?"),c.Lb())}function h(n,t){if(1&n){const n=c.Nb();c.Mb(0,"div",11),c.Mb(1,"song",12),c.Ub("songSelected",function(){return c.bc(n),c.Wb(2).selectSong(1)}),c.Lb(),c.Mb(2,"song",12),c.Ub("songSelected",function(){return c.bc(n),c.Wb(2).selectSong(2)}),c.Lb(),c.Lb()}if(2&n){const n=c.Wb(2);c.Zb("@enterTrigger","fadeIn"),c.zb(1),c.Zb("song",n.selectedSongs.song1),c.zb(1),c.Zb("song",n.selectedSongs.song2)}}function m(n,t){1&n&&(c.Mb(0,"div",13),c.Mb(1,"h1"),c.fc(2,"Correcto!"),c.Lb(),c.Kb(3,"ion-icon",14),c.Lb()),2&n&&c.Zb("@enterTrigger","fadeIn")}function S(n,t){if(1&n){const n=c.Nb();c.Mb(0,"div",13),c.Mb(1,"h1"),c.fc(2,"Juego terminado!"),c.Lb(),c.Mb(3,"h4"),c.fc(4),c.Lb(),c.Mb(5,"h4"),c.fc(6,"Respuesta correcta:"),c.Lb(),c.Kb(7,"song",15),c.Kb(8,"div",16),c.Mb(9,"ion-button",17),c.Ub("click",function(){return c.bc(n),c.Wb(2).reset()}),c.fc(10," Reintentar "),c.Lb(),c.Lb()}if(2&n){const n=c.Wb(2);c.Zb("@enterTrigger","fadeIn"),c.zb(4),c.hc("Puntuaci\xf3n: ",n.score,""),c.zb(3),c.Zb("song",n.correctAnswer)}}function w(n,t){if(1&n){const n=c.Nb();c.Mb(0,"div",4),c.Mb(1,"div",5),c.Ub("click",function(){return c.bc(n),c.Wb().logout()}),c.Mb(2,"span"),c.fc(3,"Salir"),c.Lb(),c.Kb(4,"ion-icon",6),c.Lb(),c.ec(5,f,2,0,"h1",7),c.Mb(6,"span",8),c.fc(7),c.Lb(),c.ec(8,h,3,3,"div",9),c.ec(9,m,4,1,"div",10),c.ec(10,S,11,3,"div",10),c.Lb()}if(2&n){const n=c.Wb();c.Zb("ngSwitch",n.currentGameStatus),c.zb(5),c.Zb("ngSwitchCase",n.GameStatus.playing),c.zb(2),c.hc("Puntuaci\xf3n: ",n.score,""),c.zb(1),c.Zb("ngSwitchCase",n.GameStatus.playing),c.zb(1),c.Zb("ngSwitchCase",n.GameStatus.correctAnswer),c.zb(1),c.Zb("ngSwitchCase",n.GameStatus.wrongAnswer)}}function x(n,t){1&n&&(c.Mb(0,"div",18),c.Kb(1,"ion-spinner",19),c.Lb())}function M(n,t){if(1&n){const n=c.Nb();c.Mb(0,"div",18),c.Mb(1,"error",20),c.Ub("clickEvent",function(){return c.bc(n),c.Wb().retry()}),c.Lb(),c.Lb()}}const C=[{path:"",component:(()=>{class n{constructor(n,t){this.spotifyService=n,this.router=t,this.songs=[],this.Status=g,this.currentStatus=g.loading,this.GameStatus=l,this.currentGameStatus=l.playing,this.score=0}ngOnInit(){this.refreshToken()}refreshToken(){this.currentStatus=g.loading,this.spotifyService.requiresRefresh()?this.spotifyService.refreshToken().subscribe(n=>{this.getSongs()}):this.getSongs()}getSongs(){this.currentStatus=g.loading,this.spotifyService.getUserSongs().subscribe(n=>{this.getRandomSong()},()=>{this.currentStatus=g.error})}getRandomSong(){if(0==this.spotifyService.currentSongs.length)return this.getSongs();this.currentGameStatus=l.playing,this.selectedSongs=this.spotifyService.getRandomSongs(),this.currentStatus=g.loaded}retry(){this.currentStatus=g.loading,this.refreshToken()}reset(){this.score=0,this.getRandomSong()}selectSong(n){let t=1==n?this.selectedSongs.song2:this.selectedSongs.song1;(1==n?this.selectedSongs.song1:this.selectedSongs.song2).track.popularity>t.track.popularity?(this.currentGameStatus=l.correctAnswer,this.score+=1,setTimeout(()=>{this.getRandomSong()},1e3)):(this.correctAnswer=t,this.currentGameStatus=l.wrongAnswer)}logout(){this.spotifyService.logout(),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(c.Jb(d.a),c.Jb(a.g))},n.\u0275cmp=c.Db({type:n,selectors:[["app-home"]],decls:17,vars:4,consts:[[3,"ngSwitch"],["class","loaded",3,"ngSwitch",4,"ngSwitchCase"],["class","loading",4,"ngSwitchCase"],[1,"background"],[1,"loaded",3,"ngSwitch"],[1,"exit-container",3,"click"],["name","exit"],[4,"ngSwitchCase"],[1,"score"],["class","song-container",4,"ngSwitchCase"],["class","answer",4,"ngSwitchCase"],[1,"song-container"],[3,"song","songSelected"],[1,"answer"],["name","checkmark",1,"correct-answer"],[3,"song"],[1,"answer-container"],["expand","block","shape","round",3,"click"],[1,"loading"],["color","primary"],["title","Ocurri\xf3 un error al obtener las canciones",3,"clickEvent"]],template:function(n,t){1&n&&(c.Mb(0,"ion-content",0),c.ec(1,w,11,6,"div",1),c.ec(2,x,2,0,"div",2),c.ec(3,M,2,0,"div",2),c.Mb(4,"ul",3),c.Kb(5,"li"),c.Kb(6,"li"),c.Kb(7,"li"),c.Kb(8,"li"),c.Kb(9,"li"),c.Kb(10,"li"),c.Kb(11,"li"),c.Kb(12,"li"),c.Kb(13,"li"),c.Kb(14,"li"),c.Kb(15,"li"),c.Kb(16,"li"),c.Lb(),c.Lb()),2&n&&(c.Zb("ngSwitch",t.currentStatus),c.zb(1),c.Zb("ngSwitchCase",t.Status.loaded),c.zb(1),c.Zb("ngSwitchCase",t.Status.loading),c.zb(1),c.Zb("ngSwitchCase",t.Status.error))},directives:[o.e,i.h,i.i,o.f,u,o.b,o.i,p],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:90vh}.loaded[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loaded[_ngcontent-%COMP%]{flex-direction:column;overflow-y:auto;height:95vh}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]   song[_ngcontent-%COMP%]{flex:1;padding:16px;width:50%;margin:20px 50px}.answer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.answer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{transform:scale(3);border-radius:100%;padding:3px;margin:50px}.score[_ngcontent-%COMP%]{border:2px solid var(--ion-color-primary);padding:5px 20px;border-radius:20px;margin:10px}.exit-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;display:flex;justify-content:center;cursor:pointer;align-items:center;overflow:hidden}.exit-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{transform:scale(1.5);margin:0 10px}.answer-container[_ngcontent-%COMP%]{display:flex}.correct-answer[_ngcontent-%COMP%]{border:1px solid #67c767}.incorrect-answer[_ngcontent-%COMP%]{border:1px solid #c76767}@media (max-width:600px){.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]{flex-direction:column}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]   song[_ngcontent-%COMP%]{flex:0;width:100%;margin:0}}"],data:{animation:[Object(b.j)("enterTrigger",[Object(b.g)("fadeIn",Object(b.h)({opacity:"1"})),Object(b.i)("void => *",[Object(b.h)({opacity:"0"}),Object(b.e)("300ms")])])]}}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({imports:[[a.i.forChild(C)],a.i]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.Hb({type:n}),n.\u0275inj=c.Gb({imports:[[i.b,s.a,o.j,r,v]]}),n})()}}]);