(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"42UT":function(n,t,e){"use strict";e.r(t),e.d(t,"HomePageModule",function(){return O});var o=e("TEn/"),c=e("ofXK"),i=e("fXoL");let r=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.Hb({type:n}),n.\u0275inj=i.Gb({imports:[[c.b,o.j]]}),n})();var s=e("3Pt+"),a=e("tyNb"),g=function(n){return n[n.loading=0]="loading",n[n.loaded=1]="loaded",n[n.error=2]="error",n}({}),l=function(n){return n[n.playing=0]="playing",n[n.correctAnswer=1]="correctAnswer",n[n.wrongAnswer=2]="wrongAnswer",n}({}),b=e("R0Ic"),d=e("0IA5");let u=(()=>{class n{constructor(){this.songSelected=new i.o}ngOnInit(){}selectSong(){this.songSelected.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Db({type:n,selectors:[["song"]],inputs:{song:"song"},outputs:{songSelected:"songSelected"},decls:5,vars:2,consts:[[1,"content","ion-activatable",3,"click"],[3,"src"]],template:function(n,t){1&n&&(i.Mb(0,"div",0),i.Ub("click",function(){return t.selectSong()}),i.Kb(1,"img",1),i.Mb(2,"span"),i.fc(3),i.Lb(),i.Kb(4,"ion-ripple-effect"),i.Lb()),2&n&&(i.zb(1),i.Zb("src",t.song.track.album.images[0].url,i.cc),i.zb(2),i.gc(t.song.track.name))},directives:[o.g],styles:[".content[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:flex;border-radius:10px;padding:10px;flex-direction:column;cursor:pointer;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;width:150px;height:150px;margin-bottom:20px}.content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;text-align:center;max-width:300px}@media (max-width:600px){img[_ngcontent-%COMP%]{width:30px;height:30px;margin-bottom:10px}span[_ngcontent-%COMP%]{font-size:16px}}"]}),n})(),p=(()=>{class n{constructor(){this.title="Error",this.accept="Reintentar",this.clickEvent=new i.o}ngOnInit(){}buttonClicked(){this.clickEvent.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Db({type:n,selectors:[["error"]],inputs:{title:"title",accept:"accept"},outputs:{clickEvent:"clickEvent"},decls:7,vars:2,consts:[[1,"message"],[1,"icon-container"],["name","close"],["shape","round","color","danger",3,"click"]],template:function(n,t){1&n&&(i.Mb(0,"div",0),i.Mb(1,"div",1),i.Kb(2,"ion-icon",2),i.Lb(),i.Mb(3,"h2"),i.fc(4),i.Lb(),i.Mb(5,"ion-button",3),i.Ub("click",function(){return t.buttonClicked()}),i.fc(6),i.Lb(),i.Lb()),2&n&&(i.zb(4),i.gc(t.title),i.zb(2),i.hc(" ",t.accept," "))},directives:[o.f,o.b],styles:[".icon-container[_ngcontent-%COMP%]{margin-top:20px}.message[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{color:#505050;text-align:center;font-weight:400;font-size:20px;color:var(--ion-text-color)!important;margin:20px 0}ion-icon[_ngcontent-%COMP%]{transform:scale(2);padding:5px;border-radius:100%;border:1px solid var(--ion-color-danger);margin-bottom:20px}ion-button[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;letter-spacing:2px}"]}),n})();function f(n,t){1&n&&(i.Mb(0,"h1"),i.fc(1,"\xbfCu\xe1l es m\xe1s popular?"),i.Lb())}function h(n,t){if(1&n&&(i.Mb(0,"span",11),i.fc(1),i.Lb()),2&n){const n=i.Wb(2);i.zb(1),i.hc("Puntuaci\xf3n: ",n.score,"")}}function m(n,t){if(1&n){const n=i.Nb();i.Mb(0,"div",12),i.Mb(1,"song",13),i.Ub("songSelected",function(){return i.bc(n),i.Wb(2).selectSong(1)}),i.Lb(),i.Mb(2,"song",13),i.Ub("songSelected",function(){return i.bc(n),i.Wb(2).selectSong(2)}),i.Lb(),i.Lb()}if(2&n){const n=i.Wb(2);i.Zb("@enterTrigger","fadeIn"),i.zb(1),i.Zb("song",n.selectedSongs.song1),i.zb(1),i.Zb("song",n.selectedSongs.song2)}}function S(n,t){1&n&&(i.Mb(0,"div",14),i.Mb(1,"h1"),i.fc(2,"Correcto!"),i.Lb(),i.Kb(3,"ion-icon",15),i.Lb()),2&n&&i.Zb("@enterTrigger","fadeIn")}function w(n,t){if(1&n){const n=i.Nb();i.Mb(0,"div",14),i.Mb(1,"h1"),i.fc(2,"Juego terminado!"),i.Lb(),i.Mb(3,"h4"),i.fc(4),i.Lb(),i.Mb(5,"h4"),i.fc(6,"Respuesta correcta:"),i.Lb(),i.Kb(7,"song",16),i.Kb(8,"div",17),i.Mb(9,"ion-button",18),i.Ub("click",function(){return i.bc(n),i.Wb(2).reset()}),i.fc(10," Reintentar "),i.Lb(),i.Lb()}if(2&n){const n=i.Wb(2);i.Zb("@enterTrigger","fadeIn"),i.zb(4),i.hc("Puntuaci\xf3n: ",n.score,""),i.zb(3),i.Zb("song",n.correctAnswer)}}function x(n,t){if(1&n){const n=i.Nb();i.Mb(0,"div",4),i.Mb(1,"div",5),i.Ub("click",function(){return i.bc(n),i.Wb().logout()}),i.Mb(2,"span"),i.fc(3,"Salir"),i.Lb(),i.Kb(4,"ion-icon",6),i.Lb(),i.ec(5,f,2,0,"h1",7),i.ec(6,h,2,1,"span",8),i.ec(7,m,3,3,"div",9),i.ec(8,S,4,1,"div",10),i.ec(9,w,11,3,"div",10),i.Lb()}if(2&n){const n=i.Wb();i.Zb("ngSwitch",n.currentGameStatus),i.zb(5),i.Zb("ngSwitchCase",n.GameStatus.playing),i.zb(1),i.Zb("ngIf",n.currentGameStatus==n.GameStatus.playing||n.currentGameStatus==n.GameStatus.correctAnswer),i.zb(1),i.Zb("ngSwitchCase",n.GameStatus.playing),i.zb(1),i.Zb("ngSwitchCase",n.GameStatus.correctAnswer),i.zb(1),i.Zb("ngSwitchCase",n.GameStatus.wrongAnswer)}}function M(n,t){1&n&&(i.Mb(0,"div",19),i.Kb(1,"ion-spinner",20),i.Lb())}function C(n,t){if(1&n){const n=i.Nb();i.Mb(0,"div",19),i.Mb(1,"error",21),i.Ub("clickEvent",function(){return i.bc(n),i.Wb().retry()}),i.Lb(),i.Lb()}}const v=[{path:"",component:(()=>{class n{constructor(n,t){this.spotifyService=n,this.router=t,this.songs=[],this.Status=g,this.currentStatus=g.loading,this.GameStatus=l,this.currentGameStatus=l.playing,this.score=0}ngOnInit(){this.refreshToken()}refreshToken(){this.currentStatus=g.loading,this.spotifyService.requiresRefresh()?this.spotifyService.refreshToken().subscribe(n=>{this.getSongs()},n=>{console.log(n)}):this.getSongs()}getSongs(){this.spotifyService.getUserSongs().subscribe(n=>{this.getRandomSong()},()=>{this.currentStatus=g.error})}getRandomSong(){if(0==this.spotifyService.currentSongs.length)return this.refreshToken();this.currentGameStatus=l.playing,this.selectedSongs=this.spotifyService.getRandomSongs(),this.currentStatus=g.loaded}retry(){this.currentStatus=g.loading,this.getRandomSong()}reset(){this.score=0,this.getRandomSong()}selectSong(n){let t=1==n?this.selectedSongs.song2:this.selectedSongs.song1;(1==n?this.selectedSongs.song1:this.selectedSongs.song2).track.popularity>t.track.popularity?(this.currentGameStatus=l.correctAnswer,this.score+=1,setTimeout(()=>{this.getRandomSong()},1e3)):(this.correctAnswer=t,this.currentGameStatus=l.wrongAnswer)}logout(){this.spotifyService.logout(),this.router.navigate(["/"])}}return n.\u0275fac=function(t){return new(t||n)(i.Jb(d.a),i.Jb(a.g))},n.\u0275cmp=i.Db({type:n,selectors:[["app-home"]],decls:17,vars:4,consts:[[3,"ngSwitch"],["class","loaded",3,"ngSwitch",4,"ngSwitchCase"],["class","loading",4,"ngSwitchCase"],[1,"background"],[1,"loaded",3,"ngSwitch"],[1,"exit-container",3,"click"],["name","exit"],[4,"ngSwitchCase"],["class","score",4,"ngIf"],["class","song-container",4,"ngSwitchCase"],["class","answer",4,"ngSwitchCase"],[1,"score"],[1,"song-container"],[3,"song","songSelected"],[1,"answer"],["name","checkmark",1,"correct-answer"],[3,"song"],[1,"answer-container"],["expand","block","shape","round",3,"click"],[1,"loading"],["color","primary"],["title","Ocurri\xf3 un error al obtener las canciones",3,"clickEvent"]],template:function(n,t){1&n&&(i.Mb(0,"ion-content",0),i.ec(1,x,10,6,"div",1),i.ec(2,M,2,0,"div",2),i.ec(3,C,2,0,"div",2),i.Mb(4,"ul",3),i.Kb(5,"li"),i.Kb(6,"li"),i.Kb(7,"li"),i.Kb(8,"li"),i.Kb(9,"li"),i.Kb(10,"li"),i.Kb(11,"li"),i.Kb(12,"li"),i.Kb(13,"li"),i.Kb(14,"li"),i.Kb(15,"li"),i.Kb(16,"li"),i.Lb(),i.Lb()),2&n&&(i.Zb("ngSwitch",t.currentStatus),i.zb(1),i.Zb("ngSwitchCase",t.Status.loaded),i.zb(1),i.Zb("ngSwitchCase",t.Status.loading),i.zb(1),i.Zb("ngSwitchCase",t.Status.error))},directives:[o.e,c.i,c.j,o.f,c.h,u,o.b,o.i,p],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:90vh}.loaded[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loaded[_ngcontent-%COMP%]{flex-direction:column;overflow-y:auto;height:95vh}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]   song[_ngcontent-%COMP%]{flex:1;padding:16px;width:50%;margin:20px 50px}.answer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.answer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{transform:scale(3);border-radius:100%;padding:3px;margin:50px}.score[_ngcontent-%COMP%]{border:2px solid var(--ion-color-primary);padding:5px 20px;border-radius:20px;margin:10px}.exit-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;display:flex;justify-content:center;cursor:pointer;align-items:center;overflow:hidden}.exit-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{transform:scale(1.5);margin:0 10px}.answer-container[_ngcontent-%COMP%]{display:flex}.correct-answer[_ngcontent-%COMP%]{border:1px solid #67c767}.incorrect-answer[_ngcontent-%COMP%]{border:1px solid #c76767}@media (max-width:600px){.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]{flex-direction:column}.loaded[_ngcontent-%COMP%]   .song-container[_ngcontent-%COMP%]   song[_ngcontent-%COMP%]{flex:0;width:100%;margin:0}}"],data:{animation:[Object(b.j)("enterTrigger",[Object(b.g)("fadeIn",Object(b.h)({opacity:"1"})),Object(b.i)("void => *",[Object(b.h)({opacity:"0"}),Object(b.e)("300ms")])])]}}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.Hb({type:n}),n.\u0275inj=i.Gb({imports:[[a.i.forChild(v)],a.i]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.Hb({type:n}),n.\u0275inj=i.Gb({imports:[[c.b,s.a,o.j,r,y]]}),n})()}}]);